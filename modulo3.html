<!DOCTYPE html>
<html>

<head>
    <title>Modulo 3</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.4/firebase-storage.js"></script>
    <style>
        .course-info {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 20px;
        }

        .course-details {
            flex-grow: 1;
            margin-left: 20px;
            text-align: justify;
        }
    </style>
</head>

<body>
    <header class="header-course text-center py-4 bg-primary text-white">
        <h1>Modulo 3 (1700-1799)</h1>
    </header>
    <nav class="nav-course navbar navbar-expand-lg navbar-light bg-light">
        <div class="container">
            <a class="navbar-brand" href="index.html">Inicio</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ml-auto">
                    <li class = "nav-item">
                        <a class="nav-link" href="Taller de paleografía.html">Taller de paleografía</a></li> 
                    <li class="nav-item">
                        <a class="nav-link" href="modulo1.html">Modulo 1 (1500-1599)</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="modulo2.html">Modulo 2 (1600-1699)</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <main class="main-course py-4">
        <section id="content" class="container">
            <h2>Modulo 3 (1700-1799)</h2>
            <div class="course-info">
                <img src="mod3/gabriela_pavon.jpeg"  height="200" alt="Imagen de la persona">
                <div class="course-details">
                    <h3>Lic. Gabriela Pavón</h3>
                    <p style="text-align: justify;">Gabriela Pavón es historiadora con mención en Historia 
                        del Arte por la Pontificia Universidad Católica del Ecuador, egresada de la Maestría 
                        de Análisis Histórico del Mundo actual por la Universidad Pablo de Olavide de Sevilla 
                        y se encuentra terminando sus estudios de Maestría en Archivística y Gestión Documental
                         en la Universidad Andina Simón Bolívar. Su trabajo se ha centrado en apoyo a investigaciones 
                         en el Área de Historia de la UASB-E, y ha desarrollado actividades de catalogación e 
                         investigación cultural en el Instituto Nacional de Patrimonio Cultural, además de dedicarse por
                          varios años a la docencia. Actualmente, se desempeña como Historiadora del Archivo 
                          Metropolitano de Historia de Quito.</p>
                
                
                </div>
            </div>
            <hr class="section-divider">

            <section id="Clases">
                <h3>Clases:</h3>
                <ul>
                    <li> Presenciales: 27, 29 de noviembre y 1 de diciembre.</li>
                    <li> Trabajo independiente: 28, 30 de noviembre.</li>
                </ul>
            </section>
            <hr class="section-divider">
        </section>
        <section id="Recursos">
            <h3>Recursos:</h3>
            <ul>
                <li>AHN. Fondo Corte Suprema, Serie Religiosos, caja 10 exp. 37. 1565 (folios 1,2,3)</li>
                <li>AHN. Fondo Presidencia de Quito, caja 7, volumen 17, (folios 1,2,3,4)</li>
                <li>AHN. Fondo Notarial, Sección Juicios, caja 8, expediente 10 (folios 22,23,24)</li>
                <li>AHN. Colección Viteri Lafronte, caja 5, volumen 1, 1784, (folios 8,9 y 10)</li>
                <li>AHN. Colección Biblioteca Jesuita, libro 24.(folios 1 y 2)</li>
                <li>AMHQ. Archivo Metropolitano de Historia de Quito, Tierras de Pasto y Popayán 1686-1732, Tomo 285, f. 154-159.</li>
            </ul>
        </section>
        <hr class="section-divider">
        </section>
        <section id="bibliografia" class="container text-center mt-4 hidden-section">
            <h2>Bibliografía</h2>
            <a href="mod3/AMHQ, Tomo 285 1732.pdf" download class="btn btn-primary mb-2 download-link">AMHQ, Tomo 285 1732 (PDF)</a>
        
            <a href="mod3/ColJesuitasLibro24 compressed.pdf" download class="btn btn-primary mb-2 download-link">ColJesuitasLibro24 compressed (PDF)</a>

            <a href="mod3/ColViteric5v1 compressed.pdf" download class="btn btn-primary mb-2 download-link">ColViteric5v1 compressed (PDF)</a>

            <a href="mod3/CSPresidenciac7v17compressed.pdf" download class="btn btn-primary mb-2 download-link">CSPresidenciac7v17compressed (PDF)</a>

            <a href="mod3/CSReligiososc10exp37compressed.pdf" download class="btn btn-primary mb-2 download-link">CSReligiososc10exp37compressed (PDF)</a>

            <a href="mod3/NJ1c8exp10compressed.pdf" download class="btn btn-primary mb-2 download-link">NJ1c8exp10compressed (PDF)</a>

            <hr class="section-divider">
            </section>
    
            <section id="subir-documento" class="container mt-4 hidden-section">
                <h2>Subir documento en PDF</h2>
                <input type="file" id="archivo_pdf">
                <button id="subir_pdf">Subir PDF</button>
            </section>
        </main>
    




        
        <script>
            // Configura Firebase
            var firebaseConfig = {
                apiKey: "AIzaSyBrny7pKET3yB5lIuPy4qoHc8tGng_Aq74",
                authDomain: "foro-31c0b.firebaseapp.com",
                databaseURL: "https://foro-31c0b-default-rtdb.firebaseio.com",
                projectId: "foro-31c0b",
                storageBucket: "foro-31c0b.appspot.com",
                messagingSenderId: "699214140366",
                appId: "1:699214140366:web:957cd6a90aa4bcfcabd19f",
                measurementId: "G-NZ5HCB0PEP"
            };
    
            // Inicializa Firebase solo una vez
            firebase.initializeApp(firebaseConfig);
    
            const auth = firebase.auth();
            const fs = firebase.firestore();
            const storage = firebase.storage();
    
            // Función para mostrar u ocultar enlaces de descarga según el estado de autenticación
            const toggleDownloadLinks = user => {
                const downloadLinks = document.querySelectorAll('.download-link');
                const uploadSection = document.getElementById('subir-documento');
    
                if (user) {
                    // Usuario autenticado: muestra enlaces de descarga y la sección de carga
                    downloadLinks.forEach(link => link.style.display = 'inline-block');
                    uploadSection.style.display = 'block';
                } else {
                    // Usuario no autenticado: oculta enlaces de descarga y la sección de carga
                    downloadLinks.forEach(link => link.style.display = 'none');
                    uploadSection.style.display = 'none';
                }
            };
    
            // Listens for auth state changes
            auth.onAuthStateChanged(user => {
                toggleDownloadLinks(user);
            });
    
            // Escucha el evento click del botón "Subir PDF"
            document.getElementById('subir_pdf').addEventListener('click', function () {
                // Verifica si el usuario está autenticado
                const user = auth.currentUser;
                if (user) {
                    var storageRef = storage.ref();
                    var archivoPDF = document.getElementById('archivo_pdf').files[0];
    
                    if (archivoPDF) {
                        var uploadTask = storageRef.child('archivos_subidos/' + archivoPDF.name).put(archivoPDF);
    
                        uploadTask.on('state_changed', function (snapshot) {
                            // Maneja el progreso de la carga si es necesario
                        }, function (error) {
                            // Maneja errores de carga
                            console.error('Error al subir el archivo: ' + error.message);
                        }, function () {
                            // La carga se completó con éxito
                            console.log('El archivo se ha subido con éxito.');
                        });
                    } else {
                        console.error('Selecciona un archivo PDF antes de intentar subirlo.');
                    }
                } else {
                    console.log("Usuario no autenticado, no se puede subir el archivo");
                }
            });
        </script>
    </body>
    
    </html>
    
